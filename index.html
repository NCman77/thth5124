<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ËÑÜËÑÜÈ£üË≠ú</title>
    
    <!-- 
        =======================================================================
        üéí APP ÂúñÁ§∫Ë®≠ÂÆö (Â∑≤ÈÅ∏ÊìáÔºöÂÜíÈö™ËÉåÂåÖ Pixel Art)
        =======================================================================
    -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' shape-rendering='crispEdges'%3E%3Cpath fill='%238B4513' d='M6 5h12v15H6z'/%3E%3Cpath fill='%23A0522D' d='M4 8h2v12H4zM18 8h2v12h-2z'/%3E%3Cpath fill='%23CD853F' d='M6 5h12v7H6z'/%3E%3Cpath fill='%23FFD700' d='M11 10h2v2h-2z'/%3E%3C/svg%3E">
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' shape-rendering='crispEdges'%3E%3Crect width='24' height='24' fill='%23fdf6e3'/%3E%3Cpath fill='%238B4513' d='M6 5h12v15H6z'/%3E%3Cpath fill='%23A0522D' d='M4 8h2v12H4zM18 8h2v12h-2z'/%3E%3Cpath fill='%23CD853F' d='M6 5h12v7H6z'/%3E%3Cpath fill='%23FFD700' d='M11 10h2v2h-2z'/%3E%3C/svg%3E">
    
    <!-- React & Babel -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Crypto JS (Áî®ÊñºËß£ÂØÜ) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #fdf6e3; /* ÁæäÁöÆÁ¥ôËâ≤ */
            background-image: radial-gradient(#e2d5b5 1px, transparent 1px);
            background-size: 20px 20px;
            color: #4a3b32;
            /* ÂÖ®ÂüüÊªæÂãïË®≠ÂÆöÔºöÊâãÊ©üÂÖÅË®±ÔºåÈõªËÖ¶ÈéñÂÆö */
            overflow-y: auto; 
            overflow-x: hidden;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }
        
        @media (min-width: 768px) {
            body {
                overflow: hidden; /* ÈõªËÖ¶ÁâàÈéñÂÆöÈ´òÂ∫¶ */
            }
        }

        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
        
        .rpg-card {
            background: #fffef9;
            border: 2px solid #e6dbbf;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgba(120, 100, 80, 0.1);
        }
        .rpg-card-header {
            background: #f3edd6;
            border-bottom: 2px solid #e6dbbf;
            color: #785c3e;
            font-weight: 900;
            letter-spacing: 0.05em;
        }
        .job-btn-active {
            background: linear-gradient(135deg, #a78bfa 0%, #7c3aed 100%);
            color: white;
            border: 1px solid #6d28d9;
            box-shadow: 0 4px 0 #5b21b6;
            transform: translateY(-2px);
        }
        .job-btn-inactive {
            background: white;
            color: #78716c;
            border: 1px solid #d6d3d1;
            box-shadow: 0 2px 0 #d6d3d1;
        }
        .job-btn-inactive:active {
            box-shadow: none;
            transform: translateY(2px);
        }
        .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
    </style>
</head>
<body>

    <div id="root"></div>

    <!-- ================================================================================== -->
    <!-- üîí Ë≥áÊñôË≤º‰∏äÂçÄ (DATA ZONE)                                                         -->
    <!-- Ë´ã‰ΩøÁî® admin.html Áî¢ÁîüÂä†ÂØÜ‰∫ÇÁ¢ºÔºå‰∏¶Âèñ‰ª£‰∏ãÊñπÂºïËôüÂÖßÁöÑÂÖßÂÆπ„ÄÇ                               -->
    <!-- ================================================================================== -->
<script id="game-data">
  window.ENCRYPTED_GAME_DATA = "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";
</script>
    <!-- ================================================================================== -->

    <script type="text/babel">
        const { useState, useMemo, useEffect } = React;

        // --- ÂÖßÂª∫ÂØÜÈë∞ ---
        const SECRET_KEY = "RPG_MASTER_KEY_2025";

        // --- È†êË®≠Ë≥áÊñô (Â∑≤Ê∏ÖÁ©∫) ---
        const DEFAULT_CSV = ``;

        // --- SVG ÂúñÁ§∫ ---
        const Icons = {
            Food: () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M10.5 2.5a4.5 4.5 0 0 0-2.3 8.8l-3.2 3.2a2 2 0 1 0 2.8 2.8l3.2-3.2A4.5 4.5 0 0 0 10.5 2.5Z"/><path d="M13.5 13.5 21 21"/></svg>,
            Tool: () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>,
            Shield: () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>,
            X: () => <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>,
            Zap: () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>,
            Tree: () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 19V6"/><path d="M5 19h14"/><path d="M12 2 3 19h18L12 2Z"/></svg>,
            Hammer: () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9"/><path d="M17.64 15 22 10.64"/><path d="m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25V2.46V2a2 2 0 0 0-2-2h-3c-.6 0-1.1.2-1.5.6L3 11.84c-.6.6-.9 1.45-.9 2.3v6.86c0 .55.45 1 1 1h6.86c.86 0 1.7-.3 2.3-.9l1.25-1.25a7.7 7.7 0 0 0 7.4-8.15z"/></svg>,
            Star: () => <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
        };

        // --- ÈÇèËºØÂáΩÊï∏ ---
        const parseCSV = (text) => {
            const lines = text.trim().split(/\r?\n/);
            if (lines.length === 0) return [];
            const delimiter = lines[0].includes('\t') ? '\t' : ',';
            const headers = lines[0].split(delimiter).map(h => h.trim());
            return lines.slice(1).map(line => {
                let values = [];
                if (delimiter === ',') {
                    values = line.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
                } else {
                    values = line.split(delimiter);
                }
                const entry = {};
                headers.forEach((header, index) => {
                    let val = values[index] ? values[index].trim() : '';
                    val = val.replace(/^"|"$/g, '').replace(/""/g, '"');
                    entry[header] = val;
                });
                return entry;
            });
        };

        const parseBuffs = (buffString) => {
            if (!buffString) return null;
            const stats = { production: 0, gathering: 0, crafting: 0, exp: 0, text: buffString };
            const patterns = [
                { key: 'production', regex: /ÁîüÁî¢Âä†ÈÄü\s*\+?(\d+)%/ },
                { key: 'gathering', regex: /Êé°ÈõÜÂä†ÈÄü\s*\+?(\d+)%/ },
                { key: 'crafting', regex: /Ë£Ω‰ΩúÂä†ÈÄü\s*\+?(\d+)%/ },
                { key: 'exp', regex: /Á∂ìÈ©óÂä†Êàê\s*\+?(\d+)%/ },
            ];
            let hasStat = false;
            patterns.forEach(p => {
                const match = buffString.match(p.regex);
                if (match) {
                    stats[p.key] = parseInt(match[1], 10);
                    hasStat = true;
                }
            });
            if (!hasStat && !buffString.includes('Ê©üÁéá')) return null; 
            return stats;
        };

        // --- UI ÁµÑ‰ª∂ ---
        const ItemCard = ({ title, items, selected, onSelect, icon: Icon, mobileHeight = "h-auto" }) => (
            <div className="rpg-card flex flex-col md:h-full">
                <div className="rpg-card-header p-3 flex items-center justify-between text-sm sticky top-0 z-10 bg-[#f3edd6]">
                    <div className="flex items-center gap-2">
                        {Icon && <Icon />}
                        <span>{title}</span>
                    </div>
                    <span className="text-xs bg-[#dcd0b3] px-2 py-0.5 rounded-full text-[#5c4a3d]">{items.length}</span>
                </div>
                {/* ÊâãÊ©üÁâà: ‰ΩøÁî® mobileHeight (Â¶Ç h-[480px]) ‰∏¶Âä†‰∏ä overflow-y-auto ËÆìÊ°ÜÊ°ÜÂÖßÊç≤Âãï 
                    ÈõªËÖ¶Áâà: flex-1 Ëá™ÂãïÂ°´Êªø + ÂÖßÈÉ®Êç≤Âãï
                */}
                <div className={`md:flex-1 md:h-auto ${mobileHeight} overflow-y-auto p-2 space-y-2 bg-[#fdfaf4]`}>
                    {items.length === 0 ? (
                        <div className="h-full min-h-[50px] flex items-center justify-center text-[#a69076] text-xs italic opacity-60">ÁÑ°ÂèØÁî®È†ÖÁõÆ</div>
                    ) : (
                        items.map((item, idx) => {
                            const isSelected = selected && selected.Áâ©ÂìÅ === item.Áâ©ÂìÅ;
                            return (
                                <button key={idx} onClick={() => onSelect(item)} className={`w-full text-left p-3 rounded-lg border transition-all relative group ${isSelected ? 'bg-purple-50 border-purple-400 shadow-sm' : 'bg-white border-[#efe5d0] hover:border-amber-300 hover:bg-[#fffef0]'}`}>
                                    <div className={`font-bold text-sm ${isSelected ? 'text-purple-900' : 'text-[#5c4a3d]'}`}>{item.Áâ©ÂìÅ}</div>
                                    <div className="text-[10px] text-[#8c7b6c] mt-1 truncate">{item.Â¢ûÁõäÊïàÊûú}</div>
                                    {isSelected && <div className="absolute top-2 right-2 text-purple-400"><Icons.X /></div>}
                                </button>
                            )
                        })
                    )}
                </div>
            </div>
        );

        // --- ‰∏ªÊáâÁî®Á®ãÂºè ---
        function App() {
            const [parsedItems, setParsedItems] = useState([]);
            const [selectedJob, setSelectedJob] = useState('ÂªöÂ∏´');
            const [loadout, setLoadout] = useState({ food: null, tool: null, equip1: null, equip2: null });
            const [errorMsg, setErrorMsg] = useState("");
            
            const JOBS = ['ÂªöÂ∏´', 'ÊºÅÂ§´', 'Áçµ‰∫∫', 'Ëæ≤Â§´', 'ÁâßÂ†¥‰∏ª', 'Êú®Âå†', '‰ºêÊú®Â∑•', 'ÈêµÂå†', 'Á§¶Â∑•', 'ÈÅäÊ∞ë'];

            useEffect(() => {
                if (!window.ENCRYPTED_GAME_DATA) {
                    setErrorMsg("‚ö†Ô∏è Â∞öÊú™ËºâÂÖ•Êï∏ÊìöÔºöË´ã‰ΩøÁî® admin.html Áî¢ÁîüÂä†ÂØÜÁ¢º‰∏¶Ë≤ºÂÖ• index.html„ÄÇ");
                    return;
                }
                try {
                    const bytes = CryptoJS.AES.decrypt(window.ENCRYPTED_GAME_DATA, SECRET_KEY);
                    const originalText = bytes.toString(CryptoJS.enc.Utf8);
                    if (originalText) setParsedItems(parseCSV(originalText));
                    else throw new Error("Á©∫Â≠ó‰∏≤");
                } catch (e) {
                    console.error(e);
                    setErrorMsg("‚ùå Ë≥áÊñôËß£ÂØÜÂ§±ÊïóÔºöÂØÜÈë∞‰∏çÊ≠£Á¢∫ÊàñÊòØË≥áÊñôÊ†ºÂºèÈåØË™§„ÄÇ");
                }
            }, []);

            const filteredItems = useMemo(() => {
                const result = { food: [], tool: [], equip1: [], equip2: [] };
                const isJobMatch = (jobStr) => {
                    if (!jobStr) return false;
                    if (jobStr.includes('ÂÖ®ËÅ∑Ê•≠')) return true;
                    return jobStr.includes(selectedJob);
                };

                parsedItems.forEach(item => {
                    const type = item.Á®ÆÈ°û ? item.Á®ÆÈ°û.trim() : "";
                    if (!type) return; 
                    if (isJobMatch(item.ÈÅ©Áî®ËÅ∑Ê•≠) && parseBuffs(item.Â¢ûÁõäÊïàÊûú)) {
                        if (type === 'È£üÁâ©') result.food.push(item);
                        else if (type === 'Â∑•ÂÖ∑') result.tool.push(item);
                        else if (type === 'Ë£ùÂÇô') result.equip1.push(item);
                        else if (type === 'Ë£ùÂÇô2') result.equip2.push(item);
                    }
                });
                return result;
            }, [parsedItems, selectedJob]);

            const stats = useMemo(() => {
                const t = { production: 0, gathering: 0, crafting: 0, exp: 0 };
                Object.values(loadout).forEach(i => {
                    const s = parseBuffs(i?.Â¢ûÁõäÊïàÊûú);
                    if (s) {
                        t.production += s.production || 0;
                        t.gathering += s.gathering || 0;
                        t.crafting += s.crafting || 0;
                        t.exp += s.exp || 0;
                    }
                });
                return t;
            }, [loadout]);

            const handleSelect = (type, item) => {
                setLoadout(prev => ({
                    ...prev,
                    [type]: (prev[type]?.Áâ©ÂìÅ === item.Áâ©ÂìÅ) ? null : item
                }));
            };

            const hasSelectedItems = Object.values(loadout).some(v => v);

            if (errorMsg || parsedItems.length === 0) {
                return (
                    <div className="h-screen w-full flex items-center justify-center bg-[#fdf6e3] flex-col p-8 text-center">
                        <div className="text-4xl mb-4">üõ°Ô∏è</div>
                        <h1 className="text-xl font-black text-[#785c3e] mb-2">RPG Item Manager</h1>
                        <p className="text-red-500 font-bold bg-red-100 px-4 py-2 rounded border border-red-200">{errorMsg || "Ë≥áÊñôÂ∫´ÊòØÁ©∫ÁöÑ„ÄÇ"}</p>
                    </div>
                );
            }

            return (
                <div className="flex flex-col min-h-screen md:h-screen">
                    {/* Header */}
                    <header className="bg-[#fdf6e3] border-b-2 border-[#e6dbbf] shadow-sm relative z-20 shrink-0 sticky top-0">
                        {/* Á¨¨‰∏ÄË°åÔºöËÅ∑Ê•≠ÈÅ∏Êìá */}
                        <div className="w-full overflow-x-auto whitespace-nowrap p-3 scrollbar-hide flex gap-2">
                            <span className="text-xs font-bold text-[#a69076] px-2 self-center sticky left-0 bg-[#fdf6e3] z-10">ËÅ∑Ê•≠</span>
                            {JOBS.map(job => (
                                <button key={job} onClick={() => setSelectedJob(job)} className={`px-4 py-1.5 rounded-full text-sm font-bold transition-all border ${selectedJob === job ? 'job-btn-active border-purple-600' : 'job-btn-inactive hover:bg-gray-50'}`}>{job}</button>
                            ))}
                        </div>

                        {/* Á¨¨‰∫åË°åÔºöÊâãÊ©üÁâàÂ∑≤ÈÅ∏Ë£ùÂÇô (Ê©´ÂêëÊç≤ÂãïÔºå‰∏çÊìã‰ΩèËÅ∑Ê•≠ÈÅ∏Êìá) */}
                        {hasSelectedItems && (
                            <div className="md:hidden w-full overflow-x-auto whitespace-nowrap p-2 bg-[#fffef9] border-t border-[#e6dbbf] flex gap-2 shadow-inner items-center">
                                <span className="text-[10px] font-bold text-[#a69076] px-1 sticky left-0 bg-[#fffef9] z-10">Â∑≤ÈÅ∏:</span>
                                {Object.entries(loadout).map(([k, v]) => v && (
                                    <button key={k} onClick={() => handleSelect(k, v)} className="flex items-center gap-1 bg-white border border-amber-300 rounded px-2 py-1 text-xs text-amber-900 shadow-sm active:bg-red-50 transition-colors group flex-shrink-0">
                                        {k==='food'?<Icons.Food/>:k==='tool'?<Icons.Tool/>:<Icons.Shield/>}
                                        <span className="max-w-[100px] truncate font-bold">{v.Áâ©ÂìÅ}</span>
                                        <Icons.X />
                                    </button>
                                ))}
                            </div>
                        )}

                        {/* ÈõªËÖ¶ÁâàÂ∑≤ÈÅ∏Ë£ùÂÇô (Âè≥‰∏äÊá∏ÊµÆ) */}
                        <div className="hidden md:flex absolute top-3 right-3 gap-2">
                            {Object.entries(loadout).map(([k, v]) => v && (
                                <button key={k} onClick={() => handleSelect(k, v)} className="flex items-center gap-1 bg-white border border-amber-300 rounded px-2 py-1 text-xs text-amber-900 shadow-sm hover:bg-red-50 transition-colors group">
                                    {k==='food'?<Icons.Food/>:k==='tool'?<Icons.Tool/>:<Icons.Shield/>}
                                    <span className="max-w-[60px] truncate">{v.Áâ©ÂìÅ}</span>
                                    <span className="text-red-400 group-hover:block hidden"><Icons.X/></span>
                                </button>
                            ))}
                        </div>
                    </header>

                    {/* ‰∏ªÂÖßÂÆπ */}
                    <main className="flex-1 p-4 grid grid-cols-1 md:grid-cols-12 gap-4">
                        
                        {/* Â∑¶ÔºöÈ£üÁâ© (ÊâãÊ©üÁâàÈ´òÂ∫¶Á¥Ñ 8 ÂÄãÈ†ÖÁõÆ = 480px) */}
                        <div className="col-span-1 md:col-span-3">
                            <ItemCard 
                                title="È£üÁâ©" 
                                items={filteredItems.food} 
                                selected={loadout.food} 
                                onSelect={(i) => handleSelect('food', i)} 
                                icon={Icons.Food} 
                                mobileHeight="h-[480px]" 
                            />
                        </div>

                        {/* ‰∏≠ÔºöÂ∑•ÂÖ∑ & Ë£ùÂÇô */}
                        <div className="col-span-1 md:col-span-6 flex flex-col gap-4 md:h-full md:overflow-hidden">
                            <div className="md:flex-1 md:min-h-0">
                                {/* Â∑•ÂÖ∑ÔºöÊâãÊ©üÁâàÈ´òÂ∫¶Á¥Ñ 3 ÂÄãÈ†ÖÁõÆ = 200px */}
                                <ItemCard 
                                    title="Â∑•ÂÖ∑" 
                                    items={filteredItems.tool} 
                                    selected={loadout.tool} 
                                    onSelect={(i) => handleSelect('tool', i)} 
                                    icon={Icons.Tool} 
                                    mobileHeight="h-[200px]" 
                                />
                            </div>
                            <div className="md:flex-1 md:min-h-0 grid grid-cols-2 gap-4">
                                {/* Ë£ùÂÇôÔºöÊâãÊ©üÁâàÈ´òÂ∫¶Á¥Ñ 3 ÂÄãÈ†ÖÁõÆ = 200px */}
                                <ItemCard 
                                    title="Ë£ùÂÇô I" 
                                    items={filteredItems.equip1} 
                                    selected={loadout.equip1} 
                                    onSelect={(i) => handleSelect('equip1', i)} 
                                    icon={Icons.Shield} 
                                    mobileHeight="h-[200px]" 
                                />
                                <ItemCard 
                                    title="Ë£ùÂÇô II" 
                                    items={filteredItems.equip2} 
                                    selected={loadout.equip2} 
                                    onSelect={(i) => handleSelect('equip2', i)} 
                                    icon={Icons.Shield} 
                                    mobileHeight="h-[200px]" 
                                />
                            </div>
                        </div>

                        {/* Âè≥ÔºöÊï∏ÂÄº */}
                        <div className="col-span-1 md:col-span-3 md:h-full md:overflow-y-auto">
                            <div className="rpg-card p-4 sticky top-0">
                                <h3 className="text-center font-black text-[#785c3e] border-b-2 border-[#e6dbbf] pb-2 mb-4">ËÉΩÂäõÂä†Êàê</h3>
                                <div className="space-y-3">
                                    {[
                                        { l: 'ÁîüÁî¢Âä†ÈÄü', v: stats.production, c: 'text-green-600', i: Icons.Zap },
                                        { l: 'Êé°ÈõÜÂä†ÈÄü', v: stats.gathering, c: 'text-emerald-600', i: Icons.Tree },
                                        { l: 'Ë£Ω‰ΩúÂä†ÈÄü', v: stats.crafting, c: 'text-orange-600', i: Icons.Hammer },
                                        { l: 'Á∂ìÈ©óÂä†Êàê', v: stats.exp, c: 'text-purple-600', i: Icons.Star },
                                    ].map((s, idx) => (
                                        <div key={idx} className="flex justify-between items-center bg-[#fcfaf5] p-3 rounded border border-[#f0e6d2]">
                                            <div className="flex items-center gap-2 text-sm text-[#786c5e] font-bold"><s.i /> {s.l}</div>
                                            <div className={`text-lg font-black ${s.v > 0 ? s.c : 'text-gray-300'}`}>{s.v > 0 ? '+' : ''}{s.v}%</div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </main>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>


